<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
      layout:decorator="layout">
<head>
    <title>User : Create</title>
</head>
<body>
<h1 layout:fragment="header">User : Create</h1>
<div layout:fragment="content" class="container">
    <form id="form" th:action="@{/admin/user/create}" th:object="${userForm}" method="post">
        <div th:if="${#fields.hasErrors('*')}" class="alert alert-error">
            <p th:each="error : ${#fields.errors('*')}" th:text="${error}">验证出错</p>
        </div>
        <div class="pull-right">
            <a th:href="@{~/admin/user/}" href="user.html">查看全部</a>
        </div>
        <lable for="name">用户唯一id</lable>
        <input type="text" th:field="*{id}" readonly="readonly" th:class="${#fields.hasErrors('id')} ? 'field-error'"/>
        <label for="phone">手机号</label>
        <input type="text" id="phone" th:field="*{phone}" th:class="${#fields.hasErrors('phone')} ? 'field-error'"/>
        <label for="name">姓名</label>
        <input type="text" id="name" th:field="*{name}" th:class="${#fields.hasErrors('name')} ? 'field-error'"/>
        <label for="password">密码</label>
        <input type="password" name="password" id="password" th:field="*{password}" th:class="${#fields.hasErrors('password')} ? 'field-error'"/>
        <label for="passwordRepeated">重复密码</label>
        <input type="password" name="passwordRepeated" id="passwordRepeated" th:field="*{passwordRepeated}" th:class="${#fields.hasErrors('passwordRepeated')} ? 'field-error'"/>
        <label for="role">角色</label>
        <select name="role" id="role" th:field="*{role}">
            <option value="USER" >普通员工</option>
            <option value="ADMIN" >管理员</option>
        </select>
        <label for="companyId">公司</label>
        <select name="companyId" id="companyId" th:field="*{companyId}">
            <option th:each="company: ${companies}" th:value="${company.id}" th:text="${company.name}">company name</option>
        </select>
        <div class="form-actions">
            <input type="submit" value="Save"/>
        </div>
    </form>
</div>
</body>
</html>
